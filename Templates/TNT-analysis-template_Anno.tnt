mxram 200 ;
## Set maximum memory to 200 MB.##



piwe=6.314315;
## Turn implied weighting "ON", and set K = 6.314315.##


nstates 16 ; 
## Set maximum character states into 16.##

xread 'Data saved from TNT' 
## Command to read data matrix. Words in quotation marks would present on screen (work space).## 

73 43 
&[num]

## The first number is the number of characters in data matrix. ##
## The second number is the number of taxa in data matrix.      ##
## &[num], means read data matrix in discrite data mode. If you-##
## want to read a continuous data matrix, type "&[cont]".       ##
 
A 2210121101[67]???0?10111020001081070010?1051001[67]???0?14?1?????0??21?101[012]010?
B 211010010[23][89]???0?10121020001081030020?10210?[23][789]???0?12???????0??21?1001000[67]
C 2100100101[34]???1?10?1??2?0????????0???1???0?1[21]???1?13???????0???1?10020?0?
D 2110100101[4]???1?20?2??0?0????????0???1???0?1[3]???1?24??????????21?10020?0[678]
E 211?10?101[3456]???0?1?11??1?001040010010?0021011[345]???0?1???????????21?10020?0[567]
F 02?010020[23][5]4??0?11011110002081130020?104000[23][5]4??0?112121110?2?11012201?0?
G 2214120202[34]4?11110111110001?5112?020?1041002[23]4?111123020120?0?2101232210?
H 2????????1[5]1??2000111020002?6116?120?1262001[5]1??2003???????????1?12423?0?
I 2111110100[23]3?10010121120001121041010?0011010[23]3?10012???????0??21?110[012]0009
J 22?1?20??1[4]???????110???001041021?20?00610?1[4]??????5?????????0?1?111[012]0?0a
K ?1???1???2[34]??20?20111120001?41001010?0071011[34]??10?2????????05?21?10020?0?
L ?11?11?10[12][4]??10?2?111120001?91031020?008111[12][23]??20?2?????????4?21?10010?0?
M ?11?11?10[12][45]???0?21111120001?51041010?00411?2[3]??10?2?????????5??1?10030?0?
N ?11?10?101[4]??20?20111120001?71031020?00211?1[4]??00?2?????????4?21?10030?0?
O ?????????1[34]??00?20111211101?31001010?01920?[01][12]??10?2????????03?21?10010?0?
P ?1???1???1[4]??20?20111221111?21061010?0021011[23]??10?2?????????2?21?10010?0?
Q ?????????0[3]??20?21111222111?41061010?001111?[?]????????????????????10010?0?
R ?1???0???[01][4]??10?201112[12]1111?61051010?000101[01][4]??00?2?????????3??1?10010?0?
S ?11?10?100[3]??01?11?11010001?71061110?0122110[1]??11?1????????13?11?1002000?
T ?11?10?10?[?]????????????????????????????????1[4]??11?24???????15?21?1001000?
U ?????????0[3]???1?21111010001?41060110?00410?0[2]??11?2????????14?21?10020?0?
V ?11?10?100[3]??10?20?21110001?41180010?00211?1[2]??10?1????????12?21?10020?0?
W ?????????0[4]??11?10?11110001?41061110?0001110[2]??01?1????????13?21?100?0?1?
X ?11?10?1?0[2]???0?20?11110001?41090010?00011?0[2]???1?1????????14?21?100?0?1?
Y ?10?10?101[34]??21?00111[01][01]0001?61130110?0041111[1]??11?1????????13?21?1002000?
Z ?11?10?101[34]??11?21?21010001?61060110?02421?1[23]??21?1????????14?21?1002010?
AA ??????????[?]????????????????????????????????[01][2]??00?14???????12?21?10010?0?
AB 1100100001[89]4??112011122000103116001??0???011[78]4??112061202000???0013514?0?
AC 220010000[01][56]4??01200111200020911??020?0???01[01][4]4??012156202200???0113614?0?
AD 2????????0[7]???0?2?11122100104102?0???00310?0[78]???0?2????????0?0?2?13715?0?
AE 2110100100[3]211001111000000105104101000011110[3]4100019602001025021010020000
AF 2211120100[5]401000211000000118102102000162110[7]4120016510000112001010020100
AG 2110100101[3]411001111001000105104002010011111[3]2110014210101027011010020000
AH 211010010?[?]????????????????????????????????0[5]2020013220101025111110000000
AI 2211200200[6]412002011100000115119101000041110[6]4020025211010022001010020001
AJ ?111120100[3]200002011111000011112001010061210[2]2000027200001005021010040001
AK ?111120100[3]210002111112000101112101010021210[3]22000272101010000210100[02]0001
AL ?11011010?[?]????????????????????????????????1[3]2000026522002003021010010001
AM 221112010[01][34]30201211111200000111310100002121[01][34]30101252121010090210100[02]010[23]
AN 2111120100[4]3110020111110001021041010000812?0[3]30000252121010080110100[012]0002
AO 2111120100[4]311001111111000101102001000031210[3]3100126602001007021010040002
AP 2110100100[3]31200111112211110020500011014221[01][3]3020014210101027011010010004
AQ ?????????0[4]322001011111000101103101000011210[3]32?0??42021010230110100?0?04 
; 

## The data matrix itself.##
## In each row, type " 'Taxon name'+'blank space'+'characters'."##
## "-" could not be identified in TNT. So use "?" to indicate non-applicable characters.##
## "[ ]" is used to indicate multi-state characters.##
## Don't use "-" in the taxon name, because TNT could not understand in.## 


Ccode  
   -[/1  0        -[/1  1        -[/1  2        -[/1  3        -[/1  4      
   -[/1  5        -[/1  6        -[/1  7        -[/1  8        -[/1  9      
   -[/1  10       -[/1  11       +[/1  12       +[/1  13       -[/1  14     
   -[/1  15       -[/1  16       +[/1  17       -[/1  18       -[/1  19     
   -[/1  20       -[/1  21       -[/1  22       +[/1  23       -[/1  24     
   -[/1  25       +[/1  26       -[/1  27       +[/1  28       +[/1  29     
   -[/1  30       +[/1  31       -[/1  32       -[/1  33       +[/1  34     
   +[/1  35       +[/1  36       -[/1  37       +[/1  38       +[/1  39     
   +[/1  40       -[/1  41       -[/1  42       -[/1  43       -[/1  44     
   -[/1  45       +[/1  46       +[/1  47       -[/1  48       -[/1  49     
   -[/1  50       +[/1  51       -[/1  52       -[/1  53       -[/1  54     
   +[/1  55       +[/1  56       -[/1  57       -[/1  58       -[/1  59     
   +[/1  60       +[/1  61       -[/1  62       -[/1  63       +]/1  64     
   -[/1  65       -]/1  66       -]/1  67       -]/1  68       -]/1  69
   -]/1  70       -]/1  71       -]/1  72       ; 
;

## Ccode block is the place where you designate character attribute to use in the analysis.##
## The first character ID is '0'.##
## -/+ means the character is a nonadditive/additive character.##
## [/] means whether the character is to use in the analysis.  ##
## Align every character in a tidy form like above. And don't forget the ';'.##

 
Ancstates 
 -0      -1      -2      -3      -4      -5      -6      -7      -8      -9      
 -10     -11     -12     -13     -14     -15     -16     -17     -18     -19     
 -20     -21     -22     -23     -24     -25     -26     -27     -28     -29     
 -30     -31     -32     -33     -34     -35     -36     -37     -38     -39     
 -40     -41     -42     -43     -44     -45     -46     -47     -48     -49     
 -50     -51     -52     -53     -54     -55     -56     -57     -58     -59     
 -60     -61     -62     -63     -64     -65     -66     -67     -68     -69
 -70     -71     -72; 

## I would not change this block, but make sure the number of characters match in whole script file.##
 
xgroup 
 
 
 
; 
agroup 
 
 
 
; 
taxcode  
+0      +1      +2      +3      +4      +5      +6      +7       
+8      +9      +10     +11     +12     +13     +14     +15      
+16     +17     +18     +19     +20     +21     +22     +23      
+24     +25     +26     +27     +28     +29     +30     +31      
+32     +33     +34     +35     +36     +37     +38     +39      
+40     +41     +42      
; 

## I would not change this block, but make sure the number of characters match in whole script file.##



Outgroup 29;
## Set outgroup taxon, using taxa ID in the TNT after you read the data matrix.##

Hold 20000;
## Set the number of trees to hold in the follow search.## 

 
blocks 0 ;
## Set sets of characters. Don't change if you don't have any consideration of characters' evolutionary rates.##  

xpiwe= ;
xpiwe (*;
## Turn extend implied weighting "ON".##


xmult:drift 10;
xmult:ratchet 10;
xmult:hits 5;
xmult:replications 10000;
## Use xmult mode for tree search. ##
## xmult+":"+command, means setting parameters but do not do the search.##

xmult;
## This command does the search.##


log TNT-analysis-log.txt;
## Name, open, and attach the log file in the ZIPTNT folder.##



tsave *TNT-analysis_all_tree.tre;
## Name, open, and attach the tree file in the ZIPTNT folder.##

save;
## Save trees in the memory to the attached .tre file.##

tsave/;
## De-attach and turn off the .tre file.##

export - TNT-analysis_all_tree.nex ;
## Export present data matrix and all trees into a .nex file.##



tsave *TNT-analysis_consensus_tree.tre;
## Name, open, and attach the tree file in the ZIPTNT folder.##

nelsen*;
## Do strict consensus tree combine, using all trees in the memory.##

save/;
## Save trees in the memory to the attached .tre file.##

tsave/;
## De-attach and turn off the .tre file.##

export - TNT-analysis_consensus_tree.nex ;
## Export present data matrix and all trees into a .nex file.##


Hold 10000;
## Set the number of trees to hold in the follow search.## 

subopt 10;
## Set the number of steps used to determine suboptimal trees. '10' means ten steps.## 

bbreak=tbr ;
## Using TBR algorithm to search suboptimal trees.##  

ttags = ;
## Turn on the annotation mode to add a annotation (branch support,or any value connect with nodes) to the certain tree.##

bsupport ] ;
## Calculate relative Bremer support (Using only trees within absolute support).##
## For further parameters, please see TNTwiki(http://phylo.wikidot.com/tntwiki).##

ttags & TNT-analysis_consensus_tree_BR.svg legup 5 ;
## Save the annotation and export a .svg file of the phylogenetic tree with annotation.##
## 'legup 5' means 'Move the legend 5 units up'.##

export < TNT-analysis_consensus_tree_BR.nex ;
## Export present data matrix and all trees with annotations into a .nex file.##

ttags];
## Turn off the annotation mode.##



k0;
## Keep 0 (tree). It means clean up the whole memory.##

hold 10000;
## Set the number of trees to hold in the follow search.## 

sub0;
## Set the number of steps used to determine suboptimal trees. '0' means 0 steps (no suboptimal trees).## 

proc TNT-analysis_consensus_tree.tre;
## Read the .tre file which we save earlier.##

ttags=;
## Turn on the annotation mode to add a annotation (branch support,or any value connect with nodes) to the certain tree.##

resample sym replications 10000 cut 0 frequency gc from 0 ;
## Do the resample analysis. Use symmetric resampling (repeat 10000 runs, record -##
## -absolute frequency and GC value, using tree ID 0 as target tree, preserve all nodes) in the analysis.##

ttags & TNT-analysis_consensus_tree_BRSYM.svg legup 5 ;
## Save the annotation and export a .svg file of the phylogenetic tree with annotation.##
## 'legup 5' means 'Move the legend 5 units up'.##
## Because we didn't clean the annotation before, the output of this command would give use a tree with 2 annotations.##

export < TNT-analysis_consensus_tree_BRSYM.nex ;
## Export present data matrix and all trees with annotations into a .nex file.##
## Because we didn't clean the annotation before, the output of this command would give use a tree with 2 annotations.##



k0;
proc TNT-analysis_consensus_tree.tre;
run STATS.run;
## Run 'STATS.run' script to get CI and RI value of the tree.##



k0;
ttags - ;
## Clean the annotation in the memory.##

hold 10000;
sub0;
proc TNT-analysis_consensus_tree.tre;
ttags=;
resample sym replications 10000 cut 0 frequency gc from 0 ;
ttags & TNT-analysis_consensus_tree_SYM.svg legup 5 ;
export < TNT-analysis_consensus_tree_SYM.nex ;
## This block of command will give us the phylogenetic tree with only branch support value from symmetric resampling.##
## Two files will export, the .svg file and .nex file.##




log/;
## De-attach and close the log .txt file.

proc/;
## De-attach present script.##
